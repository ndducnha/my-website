
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>X√°c minh NFC</title>
</head>
<body>
  <h2>üîê ƒêang x√°c minh s·∫£n ph·∫©m...</h2>
  <div id="result"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");
    const code = params.get("code");

    const result = document.getElementById("result");

    // Hardcoded data
    const productDB = {
      "13": "S·ªØa h·ªôp cao c·∫•p"
    };

    const validCodes = {
      "13": "369369369"
    };

    const expected = validCodes[id];
    const productName = productDB[id] || 'Kh√¥ng r√µ';

    const flag = sessionStorage.getItem("flag_" + id);

    if (flag !== "1") {
      result.innerHTML = "‚ö†Ô∏è B·∫°n c·∫ßn qu√©t m√£ QR tr∆∞·ªõc khi x√°c th·ª±c b·∫±ng NFC.";
    } else if (code === expected) {
      result.innerHTML = `‚úÖ X√°c th·ª±c th√†nh c√¥ng cho s·∫£n ph·∫©m <b>${productName}</b>!<br>üéâ C·∫£m ∆°n b·∫°n ƒë√£ mua h√†ng ch√≠nh h√£ng.`;
      sessionStorage.setItem("flag_" + id, "0"); // reset flag
    } else {
      result.innerHTML = "‚ùå X√°c th·ª±c th·∫•t b·∫°i! M√£ code kh√¥ng h·ª£p l·ªá.";
    }
  </script>
</body>
</html>
